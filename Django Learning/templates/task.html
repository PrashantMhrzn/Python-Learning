{% extends "base.html" %}
{% block title %}View all data from database{% endblock title %}
{% block body %}
<h2>Total number of tasks: {{all}}</h2>
<h2>Total number of completed tasks: {{completed}}</h2>
<h2>Total number of not completed tasks: {{not_completed}}</h2>
<table class="table">
    <thead>
      <tr>
        <th scope="col">#</th>
        <th scope="col">Title</th>
        <th scope="col">Description</th>
        <th scope="col">Status</th>
        <th scope="col">Action</th>

      </tr>
    </thead>
    <tbody>
        {% for task in tasks %}
            <tr>
                <th scope="row">{{ forloop.counter }}</th>
                <td>{{ task.title }}</td>
                <td>{{ task.description }}</td>
                {% if task.is_completed == False %}
                <td>
                  <div class="alert alert-danger" role="alert">
                    Pending
                  </div>
                </td>
                {% elif task.is_completed == True %}
                <td>
                  <div class="alert alert-success" role="alert">
                    Completed
                  </div>
                </td>
                {% endif %}
                </td>
                <td>
                  <a href="{{task.pk}}" class="btn btn-success">
                    Done
                  </a>
                </td>
                <td>
                  <a href="{{task.pk}}/edit/" class="btn btn-primary">
                    Edit
                  </a>
                </td>
                <td>
                  <a href="{{task.pk}}/delete/" class="btn btn-danger">
                    Delete
                  </a>
                </td>
            </tr>
        {% endfor %}
    </tbody>
  </table>
{% endblock body %}